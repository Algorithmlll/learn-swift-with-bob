
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>MVVM Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../VISION.html">
            
                <a href="../../VISION.html">
            
                    
                    Vision
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../LOG.html">
            
                <a href="../../LOG.html">
            
                    
                    Work Log
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../WORK.html">
            
                <a href="../../WORK.html">
            
                    
                    Work
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" >
            
                <span>
            
                    
                    Object Oriented Programming
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Functional_Swift.html">
            
                <a href="Functional_Swift.html">
            
                    
                    Functional Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" >
            
                <span>
            
                    
                    Protocol Oriented Programming
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" >
            
                <span>
            
                    
                    RxSwift
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" >
            
                <span>
            
                    
                    iOS Interview Questions
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <span>
            
                    
                    Swift 3
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="Generics.html">
            
                <a href="Generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <span>
            
                    
                    iOS APIs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="Bluetooth_Low_Energy.html">
            
                <a href="Bluetooth_Low_Energy.html">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" >
            
                <span>
            
                    
                    Animation
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" >
            
                <span>
            
                    
                    Grand Central Dispatch
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="Memory_Management.html">
            
                <a href="Memory_Management.html">
            
                    
                    Memory Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="NSURLSession.html">
            
                <a href="NSURLSession.html">
            
                    
                    NSURLSession
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" >
            
                <span>
            
                    
                    Design Patterns
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="5.1.1" data-path="MVVM.html">
            
                <a href="MVVM.html">
            
                    
                    MVVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" >
            
                <span>
            
                    
                    Delegate Pattern
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" >
            
                <span>
            
                    
                    Testing Driven Development
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" >
            
                <span>
            
                    
                    Unit Testing
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" >
            
                <span>
            
                    
                    UI Testing
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" >
            
                <span>
            
                    
                    Backend
            
                </span>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="8.1" >
            
                <span>
            
                    
                    Computer Science
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" >
            
                <span>
            
                    
                    Algorithm
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="9.1" >
            
                <span>
            
                    
                    Productivity
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" data-path="../04_Productivity/Terminal.html">
            
                <a href="../04_Productivity/Terminal.html">
            
                    
                    Terminal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.2" data-path="../04_Productivity/Shortcuts.html">
            
                <a href="../04_Productivity/Shortcuts.html">
            
                    
                    Shortcuts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.3" >
            
                <span>
            
                    
                    Github
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.4" >
            
                <span>
            
                    
                    GitBook
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.5" >
            
                <span>
            
                    
                    Xcode
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="10.1" >
            
                <span>
            
                    
                    Sales
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1.1" data-path="../05_Sales/Sales_Principles.html">
            
                <a href="../05_Sales/Sales_Principles.html">
            
                    
                    Sales Principles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.2" data-path="../05_Sales/Marketing.html">
            
                <a href="../05_Sales/Marketing.html">
            
                    
                    Marketing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.3" data-path="../05_Sales/SEO.html">
            
                <a href="../05_Sales/SEO.html">
            
                    
                    SEO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.4" data-path="../05_Sales/Personal_Website.html">
            
                <a href="../05_Sales/Personal_Website.html">
            
                    
                    Personal Website
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="11.1" >
            
                <span>
            
                    
                    Language
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1.1" data-path="../06_Language/Writing_Fundamentals.html">
            
                <a href="../06_Language/Writing_Fundamentals.html">
            
                    
                    Writing Fundamentals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.2" data-path="../06_Language/English.html">
            
                <a href="../06_Language/English.html">
            
                    
                    English
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.3" data-path="../06_Language/Korean.html">
            
                <a href="../06_Language/Korean.html">
            
                    
                    Korean
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.4" data-path="../../Contentl06_Language/Mandarin.md">
            
                <span>
            
                    
                    Mandarin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="12.1" >
            
                <span>
            
                    
                    The Day
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1.1" data-path="../07_The_Day/Korean_History.html">
            
                <a href="../07_The_Day/Korean_History.html">
            
                    
                    Korean History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.2" data-path="../07_The_Day/Korean_Politics.html">
            
                <a href="../07_The_Day/Korean_Politics.html">
            
                    
                    Korean Politics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.3" data-path="../07_The_Day/The_US_History.html">
            
                <a href="../07_The_Day/The_US_History.html">
            
                    
                    The US History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.4" data-path="../07_The_Day/The_US_Politics.html">
            
                <a href="../07_The_Day/The_US_Politics.html">
            
                    
                    The US Politics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="13.1" >
            
                <span>
            
                    
                    Business
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1.1" data-path="../08_Business/Biography.html">
            
                <a href="../08_Business/Biography.html">
            
                    
                    Biography
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.1.2" data-path="../08_Business/Business_Execution.html">
            
                <a href="../08_Business/Business_Execution.html">
            
                    
                    Business Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.1.3" data-path="../08_Business/Entrepreneurship.html">
            
                <a href="../08_Business/Entrepreneurship.html">
            
                    
                    Entrepreneurship
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.1.4" data-path="../08_Business/Routine.html">
            
                <a href="../08_Business/Routine.html">
            
                    
                    Routine
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Stay Connected</li>
        
        
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >MVVM</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="reference">Reference</h2>
<ul>
<li><a href="http://artsy.github.io/blog/2015/09/24/mvvm-in-swift/" target="_blank">MVVM in Swift</a> by Ash Furrow</li>
<li><a href="https://realm.io/news/doios-natasha-murashev-protocol-oriented-mvvm/?gclid=Cj0KEQiAzZHEBRD0ivi9_pDzgYMBEiQAtvxt-AEH-8P1O-c_waPyrx9kVdrnt_llBshAJlbl5ldbI30aAlWD8P8HAQ" target="_blank">Introduction to Protocol-Oriented MVVM</a> by Natasha</li>
</ul>
<blockquote>
<p>Disclaimer: Many of examples and concepts are directly driven from the sources mentioned above.</p>
</blockquote>
<h1 id="introduction-to-mvvm">Introduction to MVVM</h1>
<p>We will take a look at pro/cons of using MVC (Model-View Controller) to MVVM (Model-View-ViewModel). Ofen times, <code>ViewControllers</code> are responsible for:</p>
<ul>
<li>Networking</li>
<li>User Interaction</li>
<li>Image Caching</li>
<li>Background Processing</li>
</ul>
<p>As a result, the model and the View in MVC is rather short, but the ViewController is bloated. There is uneqal distribution of code.</p>
<p align="center">
![MVVM](http://artsy.github.io/images/2015-09-24-mvvm-in-swift/mvvm.png)
</p>


<p>Models don&apos;t talk to anybody
View models only talk to models
View controllers can&apos;t talk to models directly; they only interact with view models and views
Views only talk to the view controllers, notifying them interaction events (same as MVC)
The difference would be the view controller no longer has access to the model</p>
<p>Job of the view model</p>
<ul>
<li>Date, DateFormatter</li>
<li>You shouldn&apos;t <code>import UIKit</code></li>
<li>Typically the view model observes the view model somehow through KVO or FRP</li>
<li>MVVM and MVC both have a weakness that no clear place to put the networking logic
*</li>
</ul>
<p>What is View Model not responsible for: A MV does not know about the view. But, it does provide data for presenting. You could add netowkring in MV. VM and VC can communicate via delegates or FRP.</p>
<p>Formating in MV for numbers. People tend to put the logic into ViewController. View Model will take model and format.</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> amount = <span class="hljs-number">67890.23</span>
</code></pre>
<p>ViewModel</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">AccountViewModel</span> </span>{
 <span class="hljs-keyword">let</span> displayBalance: <span class="hljs-type">String</span>

 <span class="hljs-keyword">init</span>(model: <span class="hljs-type">BackAccount</span>) {
  <span class="hljs-keyword">let</span> formattedBalanced = model.balance.currencyValue
  displayBalance = <span class="hljs-string">&quot;Your balance is <span class="hljs-subst">\(formattedBalance)</span>&quot;</span>
 }
}
</code></pre>
<p>ViewController</p>
<pre><code class="lang-swift"><span class="hljs-keyword">var</span> viewModel = <span class="hljs-type">ViewModel</span>(model: <span class="hljs-type">Account</span>)
</code></pre>
<p>As soon as the model is updated, it updates the view model.</p>
<p>The problem,</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchWithTextTableViewCell</span>: <span class="hljs-title">UITableViewCell</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">configure</span><span class="hljs-params">(
        title: String,
        titleFont: UIFont,
        titleColor: UIColor,
        switchOn: Bool,
        switchColor: UIColor = .purpleColor<span class="hljs-params">()</span></span></span>, <span class="hljs-comment">// you could set defaults</span>
        onSwitchToggleHandler: onSwitchTogglerHandlerType? = <span class="hljs-literal">nil</span>)
    {
        <span class="hljs-comment">// Configure views here</span>
    }
}
</code></pre>
<h4 id="problem">Problem</h4>
<p>You have to init many all the time.</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SwitchWithTextCellProtocol</span> </span>{
    <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> titleFont: <span class="hljs-type">UIFont</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> titleColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-keyword">var</span> switchOn: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span>
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">SwitchWithTextCellProtocol</span> </span>{
    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> {
        <span class="hljs-keyword">return</span> .purpleColor()
    }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinionModeViewModel</span>: <span class="hljs-title">SwitchWithTextCellProtocol</span> </span>{
    <span class="hljs-keyword">var</span> title = <span class="hljs-string">&quot;Minion Mode!!!&quot;</span>
    <span class="hljs-keyword">var</span> switchOn = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> {
        <span class="hljs-keyword">return</span> .yellowColor()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span> {
        <span class="hljs-keyword">if</span> on {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions are here to stay!&quot;</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions went out to play!&quot;</span>)
        }
    }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-comment">// YourViewController.swift</span>
<span class="hljs-keyword">let</span> cell = tableView.dequeueReusableCellWithIdentifier(<span class="hljs-string">&quot;SwitchWithTextTableViewCell&quot;</span>, forIndexPath: indexPath) <span class="hljs-keyword">as</span>! <span class="hljs-type">SwitchWithTextTableViewCell</span>

<span class="hljs-comment">// This is where the magic happens!</span>
cell.configure(withDelegate: <span class="hljs-type">MinionModeViewModel</span>())

<span class="hljs-keyword">return</span> cell
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SwitchWithTextCellDataSource</span> </span>{
    <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> switchOn: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }
}

<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SwitchWithTextCellDelegate</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span>

    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> textColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> font: <span class="hljs-type">UIFont</span> { <span class="hljs-keyword">get</span> }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinionModeViewModel</span>: <span class="hljs-title">SwitchWithTextCellDataSource</span> </span>{
    <span class="hljs-keyword">var</span> title = <span class="hljs-string">&quot;Minion Mode!!!&quot;</span>
    <span class="hljs-keyword">var</span> switchOn = <span class="hljs-literal">true</span>
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">MinionModeViewModel</span>: <span class="hljs-title">SwitchWithTextCellDelegate</span> </span>{
    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> {
        <span class="hljs-keyword">return</span> .yellowColor()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span> {
        <span class="hljs-keyword">if</span> on {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions are here to stay!&quot;</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions went out to play!&quot;</span>)
        }
    }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> viewModel = <span class="hljs-type">MinionModeViewModel</span>()
cell.configure(withDataSource: viewModel, delegate: viewModel)
<span class="hljs-keyword">return</span> cell
</code></pre>
<h2 id="uitableview">UITableView</h2>
<p><a href="https://medium.com/capital-one-developers/smooth-scrolling-in-uitableview-and-uicollectionview-a012045d77f#.75gj88i8s" target="_blank">Source</a></p>
<h3 id="model">Model</h3>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Role</span>: <span class="hljs-title">String</span> </span>{
    <span class="hljs-keyword">case</span> <span class="hljs-type">Unknown</span> = <span class="hljs-string">&quot;Unknown&quot;</span>
    <span class="hljs-keyword">case</span> <span class="hljs-type">User</span> = <span class="hljs-string">&quot;User&quot;</span>
    <span class="hljs-keyword">case</span> <span class="hljs-type">Owner</span> = <span class="hljs-string">&quot;Owner&quot;</span>
    <span class="hljs-keyword">case</span> <span class="hljs-type">Admin</span> = <span class="hljs-string">&quot;Admin&quot;</span>

    <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">get</span><span class="hljs-params">(from: String)</span></span> -&gt; <span class="hljs-type">Role</span> {
        <span class="hljs-keyword">if</span> from == <span class="hljs-type">User</span>.rawValue {
            <span class="hljs-keyword">return</span> .<span class="hljs-type">User</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> from == <span class="hljs-type">Owner</span>.rawValue {
            <span class="hljs-keyword">return</span> .<span class="hljs-type">Owner</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> from == <span class="hljs-type">Admin</span>.rawValue {
            <span class="hljs-keyword">return</span> .<span class="hljs-type">Admin</span>
        }
        <span class="hljs-keyword">return</span> .<span class="hljs-type">Unknown</span>
    }
}

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">User</span> </span>{
    <span class="hljs-keyword">let</span> avatarUrl: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> username: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> role: <span class="hljs-type">Role</span>

    <span class="hljs-keyword">init</span>(avatarUrl: <span class="hljs-type">String</span>, username: <span class="hljs-type">String</span>, role: <span class="hljs-type">Role</span>) {
        <span class="hljs-keyword">self</span>.avatarUrl = avatarUrl
        <span class="hljs-keyword">self</span>.username = username
        <span class="hljs-keyword">self</span>.role = role
    }
}
view raw
</code></pre>
<h3 id="view-model">View Model</h3>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">UserViewModel</span> </span>{
    <span class="hljs-keyword">let</span> avatarUrl: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> username: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> role: <span class="hljs-type">Role</span>
    <span class="hljs-keyword">let</span> roleText: <span class="hljs-type">String</span>

    <span class="hljs-keyword">init</span>(user: <span class="hljs-type">User</span>) {
        <span class="hljs-comment">// Avatar</span>
        avatarUrl = user.avatarUrl

        <span class="hljs-comment">// Username</span>
        username = user.username

        <span class="hljs-comment">// Role</span>
        role = user.role
        roleText = user.role.rawValue
    }
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"MVVM","level":"5.1.1","depth":2,"next":{"title":"Delegate Pattern","level":"5.1.2","depth":2,"ref":"","articles":[]},"previous":{"title":"Design Patterns","level":"5.1","depth":1,"ref":"","articles":[{"title":"MVVM","level":"5.1.1","depth":2,"path":"Content/01_Swift_3/MVVM.md","ref":"Content/01_Swift_3/MVVM.md","articles":[]},{"title":"Delegate Pattern","level":"5.1.2","depth":2,"ref":"","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Content/01_Swift_3/MVVM.md","mtime":"2017-02-05T05:11:55.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-02-21T06:05:22.713Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

