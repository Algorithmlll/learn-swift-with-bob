
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Learning Material Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="swift_styling_guide.html" />
    
    
    <link rel="prev" href="../../../RESOURCES.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../ABOUT.html">
            
                <a href="../../../ABOUT.html">
            
                    
                    About
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../../RESOURCES.html">
            
                <a href="../../../RESOURCES.html">
            
                    
                    Resources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../../RESOURCES.html">
            
                <a href="../../../RESOURCES.html#ios">
            
                    
                    iOS Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../../RESOURCES.html">
            
                <a href="../../../RESOURCES.html#gadgets">
            
                    
                    Gadgets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../../RESOURCES.html">
            
                <a href="../../../RESOURCES.html#software">
            
                    
                    Software
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../../../RESOURCES.html">
            
                <a href="../../../RESOURCES.html#books">
            
                    
                    Books
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Swift</li>
        
        
    
        <li class="chapter active" data-level="3.1" data-path="learning.html">
            
                <a href="learning.html">
            
                    
                    Learning Material
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="swift_styling_guide.html">
            
                <a href="swift_styling_guide.html">
            
                    
                    Swift Styling Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="better_developer.html">
            
                <a href="better_developer.html">
            
                    
                    Better Swift Developer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="swift_resources.html">
            
                <a href="swift_resources.html">
            
                    
                    Swift Resources
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Software Engineering</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../software_engineering/coding_principles.html">
            
                <a href="../software_engineering/coding_principles.html">
            
                    
                    Coding Principles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../software_engineering/agile_development.html">
            
                <a href="../software_engineering/agile_development.html">
            
                    
                    Agile Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../software_engineering/github_flow.html">
            
                <a href="../software_engineering/github_flow.html">
            
                    
                    Github Flow
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Productivity</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#shortcuts">
            
                    
                    Shortcuts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#atom">
            
                    
                    Atom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#gmail">
            
                    
                    Gmail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#google_spreadsheet">
            
                    
                    Google Spreadsheet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#google_chrome">
            
                    
                    Google Chrome
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#xcode">
            
                    
                    Xcode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="../../business/productivity/keyboard_shortcuts.html">
            
                <a href="../../business/productivity/keyboard_shortcuts.html#mac_os">
            
                    
                    MacOS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../business/productivity/tools.html">
            
                <a href="../../business/productivity/tools.html">
            
                    
                    Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../business/productivity/markdown.html">
            
                <a href="../../business/productivity/markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Growth</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../business/growth/marketing.html">
            
                <a href="../../business/growth/marketing.html">
            
                    
                    Marketing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../../business/growth/sales_principles.html">
            
                <a href="../../business/growth/sales_principles.html">
            
                    
                    Sales Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../../business/growth/seo.html">
            
                <a href="../../business/growth/seo.html">
            
                    
                    SEO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../../business/growth/personal_website.html">
            
                <a href="../../business/growth/personal_website.html">
            
                    
                    Personal Website
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Mission</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../business/mission/execution.html">
            
                <a href="../../business/mission/execution.html">
            
                    
                    Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../business/mission/strategy.html">
            
                <a href="../../business/mission/strategy.html">
            
                    
                    Strategy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../../business/mission/exponential_organizations.html">
            
                <a href="../../business/mission/exponential_organizations.html">
            
                    
                    Exponential Organizations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../../business/mission/KPI.html">
            
                <a href="../../business/mission/KPI.html">
            
                    
                    Key Performance Indicators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../../business/mission/strategy.html">
            
                <a href="../../business/mission/strategy.html">
            
                    
                    Strategy
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Patience and Work</li>
        
        
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >Learning Material</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="learning">Learning</h2>
<blockquote>
<p>This document shouldn&apos;t much make sense. This is used as a reference for me before I make tutorials for you guys.</p>
</blockquote>
<h2 id="no-escape-vs-escape">No Escape vs Escape</h2>
<p>This will give compiler error in Xcode 8</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> </span>{

    <span class="hljs-keyword">var</span> myClosure: (() -&gt; ())?

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(finishBlock: <span class="hljs-params">()</span></span></span> -&gt; ()) {
        myClosure = finishBlock    <span class="hljs-comment">// &#x203C;&#xFE0F; Error: Assigning non-escaping parameter &apos;finishBlock&apos; to an @escaping closure</span>
    }
}
</code></pre>
<p>This will compile ok (explicitly write @escaping)</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> </span>{

    <span class="hljs-keyword">var</span> myClosure: (() -&gt; ())?

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(finishBlock: @escaping <span class="hljs-params">()</span></span></span> -&gt; ()) {
        myClosure = finishBlock
    }
}
</code></pre>
<p>Benefits of @noescape:</p>
<ul>
<li>Compiler can optimize your code for better Performance</li>
<li>Compiler can take care of memory management</li>
<li>There is no need to use a weak reference to self in the closure</li>
</ul>
<h3 id="lazy-variable">Lazy Variable</h3>
<p>You must always declare a lazy property as a variable (with the var keyword), because its initial value might not be retrieved until after instance initialization completes. Constant properties must always have a value before initialization completes, and therefore cannot be declared as lazy.</p>
<p>Over the last few years I&apos;ve used UIScrollViews with paging, full screen UICollectionViewCells (once had another collection view inside the cell, really really bad idea), and more recently UIPageViewControllers. I&apos;d definitely suggest the UIPageViewControllers. It&apos;s just literally built for what you need. The one caveat I found was in the scroll view did scroll delegate for the page view controller, I got weird content offsets so had glitchy parallax effects. But I&apos;m sure you could work around this. Page view controller seems to me like a view controller management system using a scroll view. The other thing I&apos;d say is it&apos;s heavy on memory.</p>
<p>UIPageViewController is easy to use, and simple to set up. You can try it out in a test program to see if it will do what you want. You get better resource management, since it already supports reclaiming offscreen viewcontrollers.
using a UIScrollView in paging mode is more flexible. since you get a callback every time the contentOffset changes, you can do interactive animation during the left &lt;-&gt; right scroll. If you don&apos;t need that, then you&apos;re just re-implementing what you get for free with UIPageViewController. In particular, you have to do the sub-viewcontroller management and reclamation yourself.
Three other choices:
You could use UITableViewController, if you rotate the coordinate system 90&#xB0; with an AffineTransform (Actually, you rotate, and flip to put the scrollbar at the bottom.) You have to do the corresponding transform on the UITableViewCells to get them to draw right-side up.
You could use UICollectionView with a FlowViewLayout. This makes doing transition animation even easier, for example, if you decide to have a Cover Flow-style animation someday, or look at the multi-page control in Safari&apos;s rightmost bottom button.</p>
<h1 id="mvvm">MVVM</h1>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="http://artsy.github.io/blog/2015/09/24/mvvm-in-swift/" target="_blank">MVVM in Swift</a> by Ash Furrow</li>
<li><a href="https://realm.io/news/doios-natasha-murashev-protocol-oriented-mvvm/?gclid=Cj0KEQiAzZHEBRD0ivi9_pDzgYMBEiQAtvxt-AEH-8P1O-c_waPyrx9kVdrnt_llBshAJlbl5ldbI30aAlWD8P8HAQ" target="_blank">Introduction to Protocol-Oriented MVVM</a> by Natasha</li>
</ul>
<blockquote>
<p>Disclaimer: Many of examples and concepts are directly driven from the sources mentioned above.</p>
</blockquote>
<h1 id="introduction-to-mvvm">Introduction to MVVM</h1>
<p>We will take a look at pro/cons of using MVC (Model-View Controller) to MVVM (Model-View-ViewModel). Ofen times, <code>ViewControllers</code> are responsible for:</p>
<ul>
<li>Networking</li>
<li>User Interaction</li>
<li>Image Caching</li>
<li>Background Processing</li>
</ul>
<p>As a result, the model and the View in MVC is rather short, but the ViewController is bloated. There is uneqal distribution of code.</p>
<p align="center">
![MVVM](http://artsy.github.io/images/2015-09-24-mvvm-in-swift/mvvm.png)
</p>


<p>Models don&apos;t talk to anybody
View models only talk to models
View controllers can&apos;t talk to models directly; they only interact with view models and views
Views only talk to the view controllers, notifying them interaction events (same as MVC)
The difference would be the view controller no longer has access to the model</p>
<p>Job of the view model</p>
<ul>
<li>Date, DateFormatter</li>
<li>You shouldn&apos;t <code>import UIKit</code></li>
<li>Typically the view model observes the view model somehow through KVO or FRP</li>
<li>MVVM and MVC both have a weakness that no clear place to put the networking logic
*</li>
</ul>
<p>What is View Model not responsible for: A MV does not know about the view. But, it does provide data for presenting. You could add netowkring in MV. VM and VC can communicate via delegates or FRP.</p>
<p>Formating in MV for numbers. People tend to put the logic into ViewController. View Model will take model and format.</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> amount = <span class="hljs-number">67890.23</span>
</code></pre>
<p>ViewModel</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">AccountViewModel</span> </span>{
 <span class="hljs-keyword">let</span> displayBalance: <span class="hljs-type">String</span>

 <span class="hljs-keyword">init</span>(model: <span class="hljs-type">BackAccount</span>) {
  <span class="hljs-keyword">let</span> formattedBalanced = model.balance.currencyValue
  displayBalance = <span class="hljs-string">&quot;Your balance is <span class="hljs-subst">\(formattedBalance)</span>&quot;</span>
 }
}
</code></pre>
<p>ViewController</p>
<pre><code class="lang-swift"><span class="hljs-keyword">var</span> viewModel = <span class="hljs-type">ViewModel</span>(model: <span class="hljs-type">Account</span>)
</code></pre>
<p>As soon as the model is updated, it updates the view model.</p>
<p>The problem,</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchWithTextTableViewCell</span>: <span class="hljs-title">UITableViewCell</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">configure</span><span class="hljs-params">(
        title: String,
        titleFont: UIFont,
        titleColor: UIColor,
        switchOn: Bool,
        switchColor: UIColor = .purpleColor<span class="hljs-params">()</span></span></span>, <span class="hljs-comment">// you could set defaults</span>
        onSwitchToggleHandler: onSwitchTogglerHandlerType? = <span class="hljs-literal">nil</span>)
    {
        <span class="hljs-comment">// Configure views here</span>
    }
}
</code></pre>
<h4 id="problem">Problem</h4>
<p>You have to init many all the time.</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SwitchWithTextCellProtocol</span> </span>{
    <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> titleFont: <span class="hljs-type">UIFont</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> titleColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-keyword">var</span> switchOn: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span>
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">SwitchWithTextCellProtocol</span> </span>{
    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> {
        <span class="hljs-keyword">return</span> .purpleColor()
    }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinionModeViewModel</span>: <span class="hljs-title">SwitchWithTextCellProtocol</span> </span>{
    <span class="hljs-keyword">var</span> title = <span class="hljs-string">&quot;Minion Mode!!!&quot;</span>
    <span class="hljs-keyword">var</span> switchOn = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> {
        <span class="hljs-keyword">return</span> .yellowColor()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span> {
        <span class="hljs-keyword">if</span> on {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions are here to stay!&quot;</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions went out to play!&quot;</span>)
        }
    }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-comment">// YourViewController.swift</span>
<span class="hljs-keyword">let</span> cell = tableView.dequeueReusableCellWithIdentifier(<span class="hljs-string">&quot;SwitchWithTextTableViewCell&quot;</span>, forIndexPath: indexPath) <span class="hljs-keyword">as</span>! <span class="hljs-type">SwitchWithTextTableViewCell</span>

<span class="hljs-comment">// This is where the magic happens!</span>
cell.configure(withDelegate: <span class="hljs-type">MinionModeViewModel</span>())

<span class="hljs-keyword">return</span> cell
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SwitchWithTextCellDataSource</span> </span>{
    <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> switchOn: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }
}

<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SwitchWithTextCellDelegate</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span>

    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> textColor: <span class="hljs-type">UIColor</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> font: <span class="hljs-type">UIFont</span> { <span class="hljs-keyword">get</span> }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinionModeViewModel</span>: <span class="hljs-title">SwitchWithTextCellDataSource</span> </span>{
    <span class="hljs-keyword">var</span> title = <span class="hljs-string">&quot;Minion Mode!!!&quot;</span>
    <span class="hljs-keyword">var</span> switchOn = <span class="hljs-literal">true</span>
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">MinionModeViewModel</span>: <span class="hljs-title">SwitchWithTextCellDelegate</span> </span>{
    <span class="hljs-keyword">var</span> switchColor: <span class="hljs-type">UIColor</span> {
        <span class="hljs-keyword">return</span> .yellowColor()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">onSwitchToggleOn</span><span class="hljs-params">(on: Bool)</span></span> {
        <span class="hljs-keyword">if</span> on {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions are here to stay!&quot;</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The Minions went out to play!&quot;</span>)
        }
    }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> viewModel = <span class="hljs-type">MinionModeViewModel</span>()
cell.configure(withDataSource: viewModel, delegate: viewModel)
<span class="hljs-keyword">return</span> cell
</code></pre>
<h2 id="uitableview">UITableView</h2>
<p><a href="https://medium.com/capital-one-developers/smooth-scrolling-in-uitableview-and-uicollectionview-a012045d77f#.75gj88i8s" target="_blank">Source</a></p>
<h3 id="model">Model</h3>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Role</span>: <span class="hljs-title">String</span> </span>{
    <span class="hljs-keyword">case</span> <span class="hljs-type">Unknown</span> = <span class="hljs-string">&quot;Unknown&quot;</span>
    <span class="hljs-keyword">case</span> <span class="hljs-type">User</span> = <span class="hljs-string">&quot;User&quot;</span>
    <span class="hljs-keyword">case</span> <span class="hljs-type">Owner</span> = <span class="hljs-string">&quot;Owner&quot;</span>
    <span class="hljs-keyword">case</span> <span class="hljs-type">Admin</span> = <span class="hljs-string">&quot;Admin&quot;</span>

    <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">get</span><span class="hljs-params">(from: String)</span></span> -&gt; <span class="hljs-type">Role</span> {
        <span class="hljs-keyword">if</span> from == <span class="hljs-type">User</span>.rawValue {
            <span class="hljs-keyword">return</span> .<span class="hljs-type">User</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> from == <span class="hljs-type">Owner</span>.rawValue {
            <span class="hljs-keyword">return</span> .<span class="hljs-type">Owner</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> from == <span class="hljs-type">Admin</span>.rawValue {
            <span class="hljs-keyword">return</span> .<span class="hljs-type">Admin</span>
        }
        <span class="hljs-keyword">return</span> .<span class="hljs-type">Unknown</span>
    }
}

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">User</span> </span>{
    <span class="hljs-keyword">let</span> avatarUrl: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> username: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> role: <span class="hljs-type">Role</span>

    <span class="hljs-keyword">init</span>(avatarUrl: <span class="hljs-type">String</span>, username: <span class="hljs-type">String</span>, role: <span class="hljs-type">Role</span>) {
        <span class="hljs-keyword">self</span>.avatarUrl = avatarUrl
        <span class="hljs-keyword">self</span>.username = username
        <span class="hljs-keyword">self</span>.role = role
    }
}
view raw
</code></pre>
<h3 id="view-model">View Model</h3>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">UserViewModel</span> </span>{
    <span class="hljs-keyword">let</span> avatarUrl: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> username: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> role: <span class="hljs-type">Role</span>
    <span class="hljs-keyword">let</span> roleText: <span class="hljs-type">String</span>

    <span class="hljs-keyword">init</span>(user: <span class="hljs-type">User</span>) {
        <span class="hljs-comment">// Avatar</span>
        avatarUrl = user.avatarUrl

        <span class="hljs-comment">// Username</span>
        username = user.username

        <span class="hljs-comment">// Role</span>
        role = user.role
        roleText = user.role.rawValue
    }
}
</code></pre>
<h2 id="implementing-mvvm-in-ios-with-rxswift-httpsmediumcobeisfreshcomimplementing-mvvm-in-ios-with-rxswift-458a2d47c33dp7r1aky6k">Implementing MVVM in iOS with RxSwift <a href="https://medium.cobeisfresh.com/implementing-mvvm-in-ios-with-rxswift-458a2d47c33d#.p7r1aky6k" target="_blank">https://medium.cobeisfresh.com/implementing-mvvm-in-ios-with-rxswift-458a2d47c33d#.p7r1aky6k</a></h2>
<h1 id="networking">Networking</h1>
<h2 id="isolating-tasks-in-swift-or-how-to-create-a-testable-networking-layer-by-fernando-mart&#xED;n-ortiz">Isolating tasks in Swift, or how to create a testable networking layer by Fernando Mart&#xED;n Ortiz</h2>
<p><a href="https://medium.com/ios-os-x-development/isolating-tasks-in-swift-or-how-to-create-a-testable-networking-layer-d0380e69f7e3#.hlnhlkkjd" target="_blank">Source</a></p>
<p>Single Responsibility.
A ConnectionManager contains too many responsibilities to be considered a good practice. Moreover, it is often implemented as a singleton. And I don&#x2019;t say singletons are necessarily bad, but they can&#x2019;t be injected as dependencies, and can&#x2019;t be easily mocked when testing.</p>
<p>Put in this way, a network call implies, at least, three steps:</p>
<ol>
<li>Create a request: this means setting the URL, method, parameters (either in URL path or http body) and HTTP headers.</li>
<li>Dispatch request: This is a very, very important step. The request that was created and configured in the previous step must be dispatched using URLSession, or a layer over that (for example, Alamofire).</li>
<li>Get and parse response: It&#x2019;s important that this step should be implemented separated from the previous two. This is where you should validate JSON or XML response and parse that into a valid Entity (or Model if you prefer to say).</li>
</ol>
<blockquote>
<p>Network layer should be implemented using, at least, three different components.</p>
</blockquote>
<p>Request: A Request object has everything needed for configuring a network request. It is a struct, or class that is responsible for configuring a single network request. And this is very important: One network request, one Request object.</p>
<p>NetworkDispatcher: A NetworkDispatcher is an object that is responsible of getting a Request and return a Response. It should be implemented as a protocol. You should code against that protocol and not against a concrete class (or struct), and it should never, ever, be implemented as a singleton. If you do that, this NetworkDispatcher can be replaced for a MockNetworkDispatcher that doesn&#x2019;t actually make any network request, and instead getting the response from a JSON file, leading to a naturally testable architecture.</p>
<p>NetworkTask: A NetworkTask is a subclass of the generic class Task. A task, as I will explain better in a moment, is a generic class that is responsible of getting an Input type and returning a Output type, either in a synchronous, or asynchronous way. You can implement a Task using RxSwift, ReactiveCocoa, Hydra, Microfutures, FOTask, or simply using closures. It&#x2019;s up to you. The important part here is the concept, not the implementation details</p>
<h2 id="implement-request">Implement Request</h2>
<p>A <code>Request</code> is an object that is responsible of configuring everything that may be necessary to create a <code>URLRequest</code>.</p>
<pre><code class="lang-swift">
<span class="hljs-keyword">import</span> Foundation

<span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">HTTPMethod</span>: <span class="hljs-title">String</span> </span>{
    <span class="hljs-keyword">case</span> <span class="hljs-keyword">get</span>, post, put, patch, delete
}

<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Request</span> </span>{
    <span class="hljs-keyword">var</span> path        : <span class="hljs-type">String</span>            { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> method      : <span class="hljs-type">HTTPMethod</span>        { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> bodyParams  : [<span class="hljs-type">String</span>: <span class="hljs-type">Any</span>]?    { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> headers     : [<span class="hljs-type">String</span>: <span class="hljs-type">String</span>]? { <span class="hljs-keyword">get</span> }
}

<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Request</span> </span>{
    <span class="hljs-keyword">var</span> method      : <span class="hljs-type">HTTPMethod</span>        { <span class="hljs-keyword">return</span> .<span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> bodyParams  : [<span class="hljs-type">String</span>: <span class="hljs-type">Any</span>]?    { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
    <span class="hljs-keyword">var</span> headers     : [<span class="hljs-type">String</span>: <span class="hljs-type">String</span>]? { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
}
</code></pre>
<h2 id="implement-networking-layer">Implement Networking Layer</h2>
<p>static dispatch = the dispatch order is defined at compile time. It simply means that any function/method call say foo() or x.foo() will always invoke the very same function -- this is established once and then stays that way. This implies that the compiler can determine the type of x at compile time.</p>
<p>dynamic dispatch = the dispatch order is resolved at run time. This means the compiler builds a lookup table of all functions/methods and determines which one to actually call at run time. Say there there is class A and B, both of which implement interface X with method X.bar(). At runtime, y is examined and based on its actual class either A.bar() or B.bar() is called.</p>
<p>multiple dynamic dispatch = the dispatch order is dependent on function/method name + argument types (=a.k.a. signature), and the actual implementation that gets called is determined dynamically at runtime. Say class A implements methods A.fooBar(int) and A.fooBar(char), and there is a call to a.fooBar(x) in your program. At runtime both a and x are examined and the actual method to call is determined based on the type of x</p>
<h1 id="pop-oriented-view-cell-registration">POP Oriented View Cell Registration</h1>
<h2 id="protocol-oriented-programming">Protocol Oriented Programming</h2>
<p><a href="https://realm.io/news/appbuilders-natasha-muraschev-practical-protocol-oriented-programming/" target="_blank">https://realm.io/news/appbuilders-natasha-muraschev-practical-protocol-oriented-programming/</a></p>
<h2 id="ios-cell-registration--reusing-with-swift-protocol-extensions-and-generics">iOS Cell Registration &amp; Reusing with Swift Protocol Extensions and Generics</h2>
<p><a href="https://gist.github.com/gonzalezreal/92507b53d2b1e267d49a" target="_blank">https://gist.github.com/gonzalezreal/92507b53d2b1e267d49a</a></p>
<h2 id="protocol-oriented-tablewview-and-collectionview-in-swift">Protocol Oriented TablewView and CollectionView in Swift</h2>
<p><a href="http://basememara.com/protocol-oriented-tableview-collectionview/" target="_blank">http://basememara.com/protocol-oriented-tableview-collectionview/</a></p>
<h2 id="protocol-oriented-segue">Protocol Oriented Segue</h2>
<p><a href="https://gist.github.com/msewell/5e185518a553b7ba9743451b5b817b31" target="_blank">https://gist.github.com/msewell/5e185518a553b7ba9743451b5b817b31</a>
<a href="https://www.natashatherobot.com/protocol-oriented-segue-identifiers-swift/" target="_blank">https://www.natashatherobot.com/protocol-oriented-segue-identifiers-swift/</a></p>
<h1 id="reuseable-uitableviewdatasource">Reuseable UITableViewDataSource</h1>
<h1 id="a-reusable-uitableviewdatasource-in-swift">A reusable UITableViewDataSource in Swift</h1>
<p><a href="https://medium.cobeisfresh.com/a-reusable-uitableviewdatasource-in-swift-e74d76bdda5f#.7yigp9s06" target="_blank">https://medium.cobeisfresh.com/a-reusable-uitableviewdatasource-in-swift-e74d76bdda5f#.7yigp9s06</a></p>
<h2 id="the-data">The Data</h2>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">SettingType</span> </span>{
  <span class="hljs-keyword">case</span> <span class="hljs-type">Switch</span>(text: <span class="hljs-type">String</span>) <span class="hljs-comment">//on-off</span>
  <span class="hljs-keyword">case</span> <span class="hljs-type">Segue</span>(text: <span class="hljs-type">String</span>) <span class="hljs-comment">//navigate to a sub-section</span>
  <span class="hljs-keyword">case</span> <span class="hljs-type">Info</span>(text: <span class="hljs-type">String</span>, detail: <span class="hljs-type">String</span>) <span class="hljs-comment">//e.g. usage stats</span>

  <span class="hljs-keyword">var</span> identifier: <span class="hljs-type">String</span> {
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
      <span class="hljs-keyword">case</span> .<span class="hljs-type">Info</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;infoCell&quot;</span>
      <span class="hljs-keyword">case</span> .<span class="hljs-type">Segue</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;segueCell&quot;</span>
      <span class="hljs-keyword">case</span> .<span class="hljs-type">Switch</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;switchCell&quot;</span>
    }
  }
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SettingsSection</span> </span>{
  <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span>?
  <span class="hljs-keyword">var</span> cellData: [<span class="hljs-type">SettingType</span>]

  <span class="hljs-keyword">init</span>(title: <span class="hljs-type">String</span>?, cellData: [<span class="hljs-type">SettingType</span>]) {
    <span class="hljs-keyword">self</span>.title = title
    <span class="hljs-keyword">self</span>.cellData = cellData
  }
}
</code></pre>
<h2 id="settingstableviewdatasource">SettingsTableViewDataSource</h2>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SettingsTableViewDataSource</span>: <span class="hljs-title">NSObject</span>, <span class="hljs-title">UITableViewDataSource</span> </span>{

  <span class="hljs-keyword">var</span> sections: [<span class="hljs-type">SettingsSection</span>]

  <span class="hljs-keyword">init</span>(sections: [<span class="hljs-type">SettingsSection</span>]) {
    <span class="hljs-keyword">self</span>.sections = sections
  }

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">numberOfSectionsInTableView</span><span class="hljs-params">(tableView: UITableView)</span></span> -&gt; <span class="hljs-type">Int</span> {
    <span class="hljs-keyword">return</span> sections.<span class="hljs-built_in">count</span>
  }

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">tableView</span><span class="hljs-params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="hljs-type">Int</span> {
    <span class="hljs-keyword">return</span> sections[section].cellData.<span class="hljs-built_in">count</span>
  }

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">tableView</span><span class="hljs-params">(tableView: UITableView, titleForHeaderInSection section: Int)</span></span> -&gt; <span class="hljs-type">String</span>? {
    <span class="hljs-keyword">return</span> sections[section].title


  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">tableView</span><span class="hljs-params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="hljs-type">UITableViewCell</span> {
  <span class="hljs-keyword">let</span> setting: <span class="hljs-type">SettingType</span> = sections[indexPath.section].cellData[indexPath.row]

  <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> cell = tableView.dequeueReusableCellWithIdentifier(setting.identifier)  {
    <span class="hljs-keyword">switch</span> setting {
    <span class="hljs-keyword">case</span> .<span class="hljs-type">Switch</span>(text: <span class="hljs-keyword">let</span> text):
       cell.textLabel?.text = text
       cell.accessoryType = .<span class="hljs-type">DetailButton</span>
       cell.accessoryView = <span class="hljs-type">UISwitch</span>()
    <span class="hljs-keyword">case</span> .<span class="hljs-type">Segue</span>(text: <span class="hljs-keyword">let</span> text):
       cell.textLabel?.text = text
       cell.accessoryType = .<span class="hljs-type">DisclosureIndicator</span>
    <span class="hljs-keyword">case</span> .<span class="hljs-type">Info</span>(text: <span class="hljs-keyword">let</span> text, detail: <span class="hljs-keyword">let</span> detailText):
       cell.textLabel?.text = text
       cell.detailTextLabel?.text = detailText
    }
    <span class="hljs-keyword">return</span> cell
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">fatalError</span>(<span class="hljs-string">&quot;Unknown identifier&quot;</span>)
  }
}

}
</code></pre>
<h1 id="test-driven-development">Test Driven Development</h1>
<h2 id="unit-testing-in-swift&#x200A;&#x2014;&#x200A;part-1-the-philosophy">Unit Testing in Swift&#x200A;&#x2014;&#x200A;Part 1: The Philosophy</h2>
<p> <a href="https://medium.cobeisfresh.com/unit-testing-in-swift-part-1-the-philosophy-9bc85ed5001b#.o6ex87nvk" target="_blank">https://medium.cobeisfresh.com/unit-testing-in-swift-part-1-the-philosophy-9bc85ed5001b#.o6ex87nvk</a></p>
<h2 id="unit-testing-ios-in-swift&#x200A;&#x2014;&#x200A;part-2-a-testable-architecture">Unit Testing iOS in Swift&#x200A;&#x2014;&#x200A;Part 2: A Testable Architecture</h2>
<p><a href="https://medium.cobeisfresh.com/unit-testing-ios-in-swift-part-2-a-testable-architecture-9048aca52e0a#.rc7nwl8oh" target="_blank">https://medium.cobeisfresh.com/unit-testing-ios-in-swift-part-2-a-testable-architecture-9048aca52e0a#.rc7nwl8oh</a></p>
<h1 id="type-safe-view">Type Safe View</h1>
<h1 id="composable-type-safe-uiview-styling-with-swift-functions">Composable, type-safe UIView styling with Swift functions</h1>
<p><a href="https://medium.cobeisfresh.com/composable-type-safe-uiview-styling-with-swift-functions-8be417da947f#.9vz1pont6" target="_blank">https://medium.cobeisfresh.com/composable-type-safe-uiview-styling-with-swift-functions-8be417da947f#.9vz1pont6</a></p>
<p> easy to create, change and maintain.</p>
<p>  all be declared in a single place,</p>
<p>  no repeated code.</p>
<pre><code class="lang-swift">  <span class="hljs-keyword">typealias</span> <span class="hljs-type">UIViewStyle</span>&lt;<span class="hljs-type">T</span>: <span class="hljs-type">UIView</span>&gt; = (<span class="hljs-type">T</span>)-&gt; <span class="hljs-type">Void</span>
</code></pre>
<pre><code class="lang-swift">  <span class="hljs-keyword">let</span> smallLabelStyle: <span class="hljs-type">UIViewStyle</span>&lt;<span class="hljs-type">UILabel</span>&gt; = { label <span class="hljs-keyword">in</span>
  label.font = label.font.withSize(<span class="hljs-number">12</span>)
}
</code></pre>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> smallLabelStyle: <span class="hljs-type">UIViewStyle</span>&lt;<span class="hljs-type">UILabel</span>&gt; = { label <span class="hljs-keyword">in</span>
  label.font = label.font.withSize(<span class="hljs-number">12</span>)
}
<span class="hljs-keyword">let</span> lightLabelStyle: <span class="hljs-type">UIViewStyle</span>&lt;<span class="hljs-type">UILabel</span>&gt; = { label <span class="hljs-keyword">in</span>
  label.textColor = .lightGray
}
<span class="hljs-keyword">let</span> captionLabelStyle: <span class="hljs-type">UIViewStyle</span>&lt;<span class="hljs-type">UILabel</span>&gt; = { label <span class="hljs-keyword">in</span>
  smallLabelStyle(label)
  lightLabelStyle(label)
}
</code></pre>
<h1 id="lets-play-refactor-the-mega-controller">Let&apos;s Play: Refactor the Mega Controller</h1>
<p><a href="https://realm.io/news/andy-matuschak-refactor-mega-controller/" target="_blank">https://realm.io/news/andy-matuschak-refactor-mega-controller/</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../../../RESOURCES.html#books" class="navigation navigation-prev " aria-label="Previous page: Books">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="swift_styling_guide.html" class="navigation navigation-next " aria-label="Next page: Swift Styling Guide">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Learning Material","level":"3.1","depth":1,"next":{"title":"Swift Styling Guide","level":"3.2","depth":1,"path":"Content/programming/swift/swift_styling_guide.md","ref":"Content/programming/swift/swift_styling_guide.md","articles":[]},"previous":{"title":"Books","level":"2.1.4","depth":2,"anchor":"#books","path":"RESOURCES.md","ref":"RESOURCES.md#books","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Content/programming/swift/learning.md","mtime":"2017-03-22T09:24:44.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-03-22T01:51:41.328Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

